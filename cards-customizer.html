<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>ØªØ®ØµÙŠØµ Ù…ÙƒØ§Ù† Ø§Ù„Ø§Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</title>
  <link href="https://fonts.googleapis.com/css2?family=Amiri&family=Cairo&family=Tajawal&display=swap" rel="stylesheet" />
  <style>
    body {
      direction: rtl;
      font-family: 'Tajawal', sans-serif;
      background-color: #f9f9f9;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #006699;
    }
    select, input[type="number"], input[type="color"] {
      margin: 10px;
      padding: 6px;
      font-family: inherit;
    }
    canvas {
      border: 1px solid #ccc;
      margin-top: 20px;
      max-width: 100%;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #006699;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>ğŸ–‹ ØªØ®ØµÙŠØµ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</h1>

  <label>Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©:
    <select id="designSelect" onchange="loadDesign()">
      <option value="1">ØªØµÙ…ÙŠÙ… 1</option>
      <option value="2">ØªØµÙ…ÙŠÙ… 2</option>
      <option value="3">ØªØµÙ…ÙŠÙ… 3</option>
      <option value="4">ØªØµÙ…ÙŠÙ… 4</option>
      <option value="5">ØªØµÙ…ÙŠÙ… 5</option>
      <option value="6">ØªØµÙ…ÙŠÙ… 6</option>
    </select>
  </label><br>

  <label>Ø§Ù„Ø®Ø·:
    <select id="fontFamily">
      <option value="Tajawal">Tajawal</option>
      <option value="Cairo">Cairo</option>
      <option value="Amiri">Amiri</option>
    </select>
  </label>

  <label>Ø§Ù„Ø­Ø¬Ù…: <input type="number" id="fontSize" value="36"></label>
  <label>Ø§Ù„Ù„ÙˆÙ†: <input type="color" id="fontColor" value="#006699"></label>
  <label>X: <input type="number" id="xCoord" value="300"></label>
  <label>Y: <input type="number" id="yCoord" value="500"></label>

  <br>
  <canvas id="previewCanvas" width="600" height="800"></canvas>

  <br>
  <button onclick="saveCurrentDesign()">ğŸ’¾ Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ</button>
  <button onclick="downloadSettings()">ğŸ“¥ ØªØ­Ù…ÙŠÙ„ nameSettings.js</button>

  <p id="saveStatus" style="margin-top: 10px; font-weight: bold;"></p>

  <script>
    const settings = {};
    const savedDesigns = new Set();

    function loadDesign() {
      const designNum = document.getElementById("designSelect").value;
      const img = new Image();
      img.src = `images/design${designNum}.jpg`;
      img.onload = () => {
        const canvas = document.getElementById("previewCanvas");
        const ctx = canvas.getContext("2d");
        canvas.width = img.width;
        canvas.height = img.height;

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(img, 0, 0);

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Øµ
        const font = document.getElementById("fontFamily").value;
        const size = document.getElementById("fontSize").value;
        const color = document.getElementById("fontColor").value;
        const x = document.getElementById("xCoord").value;
        const y = document.getElementById("yCoord").value;

        ctx.font = `bold ${size}px ${font}`;
        ctx.fillStyle = color;
        ctx.textAlign = "center";
        ctx.fillText("Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³Ù…", parseInt(x), parseInt(y));
      };
    }

    function saveCurrentDesign() {
      const d = parseInt(document.getElementById("designSelect").value);
      settings[d] = {
        fontSize: parseInt(document.getElementById("fontSize").value),
        fontColor: document.getElementById("fontColor").value,
        x: parseInt(document.getElementById("xCoord").value),
        y: parseInt(document.getElementById("yCoord").value),
        font: document.getElementById("fontFamily").value
      };
      savedDesigns.add(d);
      document.getElementById("saveStatus").textContent = `âœ… ØªÙ… Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØµÙ…ÙŠÙ… ${d}`;
    }

    function downloadSettings() {
      if (savedDesigns.size === 0) {
        alert("âš ï¸ Ù„Ù… ØªÙ‚Ù… Ø¨Ø­ÙØ¸ Ø£ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ø¹Ø¯.");
        return;
      }

      const blob = new Blob([
        "const nameSettings = " + JSON.stringify(settings, null, 2) + ";"
      ], { type: "application/javascript" });

      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "nameSettings.js";
      link.click();

      alert("âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù. ØªÙ… ØªØ®ØµÙŠØµ Ø§Ù„ØªØµØ§Ù…ÙŠÙ… Ø§Ù„ØªØ§Ù„ÙŠØ©: " + [...savedDesigns].sort().join(", "));
    }

    document.querySelectorAll("input, select").forEach(input => {
      input.addEventListener("input", loadDesign);
    });

    window.onload = loadDesign;
  </script>
</body>
</html>
